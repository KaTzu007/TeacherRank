<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verification</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #ccc;
    font-family: Arial, sans-serif;
  }

  h1 {
    margin-bottom: 10px;
  }

  p {
    margin-bottom: 30px;
    text-align: center;
  }

  form {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    }


  .code-container {
    display: flex;
    gap: 15px;
    background: white;
    padding: 20px 25px;
    border-radius: 10px;
  }

  .code-input {
    width: 70px;
    height: 70px;
    text-align: center;
    font-size: 32px;
    border-radius: 35px;
    border: none;
    outline: none;
    background: #e57373;
    color: white;
    font-weight: bold;
    transition: transform 0.1s;
  }

  .code-input:focus {
    transform: scale(1.1);
  }

  .submit-btn {
    margin-top: 25px;
    padding: 15px 35px;
    border: none;
    border-radius: 30px;
    background: #e57373;
    color: white;
    font-weight: bold;
    font-size: 18px;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
  }

  .submit-btn:hover {
    background: #d65c5c;
    transform: scale(1.05);
  }
</style>

</head>
<body>

<h1>Verification</h1>
<p>Please check your corporate email for the 6-digit code and enter the code here</p>

<form method="POST" action="{{ url_for('auth.verification') }}">
  <div class="code-container">
    <input type="text" maxlength="1" name="digit0" class="code-input">
    <input type="text" maxlength="1" name="digit1" class="code-input">
    <input type="text" maxlength="1" name="digit2" class="code-input">
    <input type="text" maxlength="1" name="digit3" class="code-input">
    <input type="text" maxlength="1" name="digit4" class="code-input">
    <input type="text" maxlength="1" name="digit5" class="code-input">
  </div>
  <button type="submit" class="submit-btn">Submit</button>
</form>

{% if error %}
  <p style="color:red; margin-top: 15px;">{{ error }}</p>
{% endif %}


<script>
  const inputs = document.querySelectorAll('.code-input');

  inputs.forEach((input, index) => {
    input.addEventListener('input', () => {
      if (input.value.length === 1 && index < inputs.length - 1) {
        inputs[index + 1].focus();
      }
    });

    input.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace' && input.value === '' && index > 0) {
        inputs[index - 1].focus();
      }
    });
  });
</script>

</body>
</html>
